/* ========= Global ========= */
html, body { margin: 0; }

/* Page-level snap OFF (component handles it) */
@media (max-width: 768px) {
  html, body { scroll-snap-type: none; }
}

/* ========= Vars ========= */
:root {
  --nav-h: 64px;          /* mobile navbar height */
  --gap-title-hero: 6px;  /* title → phone gap */
  --pad-top: 8px;         /* slide top padding */
  --pad-bottom: 44px;     /* space under phone */
  --phone-max-h: 62vh;    /* phone max height */
  --accent: #E5249e;
}

/* ========= Wrapper (scroller on mobile) ========= */
.pm-wrap {
  margin: 0;
  padding: 0;
  background: var(--bg);
  height: calc(100dvh - var(--nav-h));
  margin-top: var(--nav-h);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: y mandatory;
  scroll-snap-stop: always;

  /* Hide scrollbar (keep scrolling) */
  scrollbar-width: none;        /* Firefox */
  -ms-overflow-style: none;     /* IE/Edge */
}
.pm-wrap::-webkit-scrollbar { display: none; } /* Chrome/Safari */

/* ========= Slide ========= */
.pm-slide {
  height: calc(100dvh - var(--nav-h));
  box-sizing: border-box;
  scroll-snap-align: start;

  display: grid;
  grid-template-rows: auto 1fr auto;  /* title | hero | link */
  align-content: start;
  justify-items: center;

  padding: var(--pad-top) 4vw var(--pad-bottom);
  row-gap: 0;
  overflow: hidden; /* avoids previous slide peeking */

  opacity: .95;
  transform: translateY(2px);
  transition: opacity .35s ease, transform .4s ease;
}
.pm-slide.is-active { opacity: 1; transform: none; }

/* ========= Title ========= */
.pm-title {
  position: relative;
  top: 4vh;
  letter-spacing: 1px;
  /* color: var(--ink); */
  font-size: clamp(22px, 6vw, 32px);
  line-height: 1.15;

}

/* ========= Hero (phone area) ========= */
.pm-hero {
  width: 100%;
  margin-top: var(--gap-title-hero);
  margin-bottom: 0; /* bottom space comes from slide padding */
  display: grid;
  place-items: center;
  overflow: visible;
}

.pm-phone {
  width: min(520px, 88vw);
  max-height: var(--phone-max-h);
  aspect-ratio: 9 / 19.5;
  object-fit: contain;

  /* keep a constant tilt as the base state */
  transform: rotate(-4deg);
  transform-origin: 50% 50%;
  will-change: transform;

  /* don't animate transform outside the beat — avoids snapping back */
  transition: filter .35s ease;
  filter: drop-shadow(0 14px 24px rgba(0,0,0,.16));
}

/* Gentle pulse — always around the tilted base */
@keyframes pm-phone-beat {
  0%   { transform: rotate(-4deg) scale(1); }
  25%  { transform: rotate(-4deg) scale(1.012); }
  50%  { transform: rotate(-4deg) scale(0.988); }
  75%  { transform: rotate(-4deg) scale(1.008); }
  100% { transform: rotate(-4deg) scale(1); }
}

.pm-slide.is-active .pm-phone {
  /* 'both' keeps the first/last frame applied so no post-anim snap */
  animation: pm-phone-beat 1.2s ease-in-out 0s 2 both;
  /* filter: drop-shadow(0 18px 28px rgba(0,0,0,.24)); */
}

/* (optional) respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pm-slide.is-active .pm-phone { animation: none; }
}


/* ========= Link / Footer ========= */
.pm-link {
  margin: 6px 0 8px;
  line-height: 1;
  font-weight: 600;
  color: var(--ink);
  text-decoration: none;
  position: static;
}
.pm-link::after {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: -1px;
  height: 2px;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform .5s ease;
}
.pm-slide.is-active .pm-link::after { transform: scaleX(1); }

/* ========= Lazy Image ========= */
.lazy-img {
  filter: blur(12px);
  transform: scale(1.02);
  transition: filter .35s ease, transform .35s ease, opacity .2s ease;
  opacity: .8;
}
.lazy-img.is-loaded { filter: blur(0); transform: none; opacity: 1; }

/* ========= Motion Safety ========= */
@media (prefers-reduced-motion: reduce) {
  .pm-slide.is-active .pm-phone { animation: none; }
}
